auto curry([(int, int) -> int] f) {
    return lambda (int x) -> [(int) -> auto] {
        return lambda (int y) -> auto {
            return f(x, y);
        };
    };
}

int main() {
    auto add = lambda (int x, int y) -> int . x + y;
    auto add2 = (curry(add))(2);
    println(add2(3));
    println(add2(4));
    println(add2(5));
    return 0;
}